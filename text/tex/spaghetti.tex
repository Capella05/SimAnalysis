\begin{figure}
  \centering
  \subfigure{\includegraphics[width=0.45\textwidth]
             {fig/sims/006941/input.png}} \\
  \subfigure{\includegraphics[width=0.45\textwidth]
             {fig/sims/007022/input.png}} \\
  \subfigure{\includegraphics[width=0.45\textwidth]
             {fig/sims/006919/input.png}}
  \caption{Examples of Spaghetti input.  The models from these appear
    later in Figures \ref{fig:6941}, \ref{fig:7022} and \ref{fig:6919}.
  \label{fig:input-spag}}
\end{figure}

\subsection{\spl} \label{sec:SpaghettiLens}

In \spl the user begins by making an educated guess for the topography
of the arrival-time surface --- specifically, the locations of the
maxima, minima and saddle points that correspond to images of the
brightest part of the source.  Input is given by tracing a proposal
for the saddle-point contours.  Figure \ref{fig:input-spag} shows some
example inputs --- and incidentally also indicates the origin of the
name \spl.

\spl, as implemented so far, assumes that the lens is dominated by a
single galaxy, and that the centre of that galaxy is the sole maximum.
Once the maximum has been identified, we wish to characterize the rest
of the arrival-time surface in relation to it.  From geometry, any
surface that has a central maximum and goes high at the edges must
have a lima\c con-like contour, meaning a two-looped curve with one
loop inside the other.  The maximum lies within the inner loop, a
minimum lies between the two loops, and a saddle point lies at the
self-intersection of the contour.  The top panel of
Figure~\ref{fig:input-spag} shows an example: red marks a suggested
maximum, green a saddle point, and blue a minimum.  (The small pink
dots are just help sketch the proposed contour.)  The middle and lower
panels of Figure~\ref{fig:input-spag} show a more complex situation.
The minimum has split into three images: two new minima with a saddle
point in between.  In this situation the contour through the new
saddle point forms a figure of eight, its two loops enclosing the two
new minima.  The configuration of a lima\c con, possibly with a figure
of eight inside, suffices to give a preliminary description of the
arrival-time surface for nearly all cases where the lens is dominated
by one galaxy, and the source is a single small object.



It provides a web based graphical user interface that allows to trace contours with the mouse and identify extremal points by clicking on the image.

\spl provides plug ins to support any data source. At the moment, a data link to \sw and to the MasterLens database\needcite are implemented.

The modelling process consitis of three basic steps:
\begin{enumerate}
  \item identify lensed images and separate them from other background light sources
  \item classify and order images accoring to arrival time. (local minima, maxima, saddlepoints)
  \item fine tune the arrangement, identify addidional external point masses influencing the result
\end{enumerate}

\spl assists volunteers with several features in this process.
Step 1 by supplying several images from several bands (not yet implemented in \sw).
Step 2 by restricting the user, only valid configuration can be entered, the odd number theorem\needcite is taken care of.


Give a guess for the maximum, minimum and saddle points.  Program
tries find $\kappa(x,y)$ that reproduces these properties exactly, and
looks reasonably like a galaxy.  Solution not unique, an ensemble
generated.
SpaghettiLens is build on top of GLASS \citep{Lubini2012}, that builds and improves upon PixeLens \citep{Saha2004}.

\spl then tries to find a mass distribution $\kappa(x,y)$ that reproduces the input parameters.
Since there is no unique solution, \spl samples the solution space and produces an ensemble of solutions, as described in the paper \citep{Lubini2012}.

Step 3 by providing the visual feedback. Users can check the generated mass distribution and synthetic image.

It additinally provides plots of the modelled mass distribution and the contour lines of arrival time surface as feedback. 

It provides direct visual feedback by rendering a synthetic image side
by side the original image, such that users can directly compare the
predictions of their model to the survey image. Explanation: Synthetic
image: A rendering of the derivative of the arrival time for each
pixel. This leads to a black and white image that reasonably looks
like the visual appearace of the model.

Using this direct visual feedback, even inexperienced users can
successfully model lenses using a iterative approach if they know what
to look for.

In the next step, several volunteers can work together / exchange their ideas and models and try to improve previous modelling attempts by others.
This leads to a set of models organised in a branching, tree like structre for each model.
Volunteers then organise them selves to narrow down the different branches and come up with a few consensus models in the end.







